<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Wikta">
    <link rel="shortcut icon" href="https://ccplus.movicel.co.ao/ccplusv2/public/assets/favicon/favicon.png">
    <title>CCPLUSV2 : log In</title>
    <!--Core CSS -->
	
	<link href="css/bootstrap.min.css" rel="stylesheet">	
	
	<link href="css/adminstyle.css" rel="stylesheet">   
	<link href="css/bootstrap-reset.css" rel="stylesheet">
    <!--clock css-->
    <link href="css/style.css" rel="stylesheet">			
	<link href="css/font-awesome.css" rel="stylesheet">
	<link href="css/style-responsive.css" rel="stylesheet">
	
	<link rel="stylesheet" type="text/css" media="all" href="css/jquery-ui.min.css">
  <link href="css/jquery-confirm.css" rel="stylesheet">

<!--dynamic table-->
    <link href="css/demo_page.css" rel="stylesheet">
    <link href="css/demo_table.css" rel="stylesheet">
    <link rel="stylesheet" href="css/DT_bootstrap.css">
    <link href="css/bootstrap-chosen.css" rel="stylesheet">	
    <link href="css/jquery.growl.css" rel="stylesheet">	
    <link href="css/tautocomplete.css" rel="stylesheet">	
    
  	<link href="css/checkboxes.css" rel="stylesheet"> 
    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]>
    <script src="js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>
<body class="login-body">
<style type="text/css">
.panel-heading{background: #ffffff;    border-color: #9ea9ba;}
.panel-heading span{color:#9e0b0f;font-size:20px;}
.panel-body {
    padding: 10px;
    border: 1px;
	border-style: solid;
	border-color: #efefef;
	background: #ffffff;
}
.panel{font-size: 12px;}
/*.form-control{font-size: 12px;height: auto;padding: 5px;}
.form-control{font-size: 12px;height: auto;padding: 1px;}
.form-group{font-size: 12px;height: auto;margin-bottom: auto;}
.selectize-control{border: 0px;}*/
.tab-close {
    
    margin: -10px;
	cursor: pointer;
    color: tomato;
}
/*======Jquery-ui.min========*/
.ui-widget-header {
    border: 1px solid #C2C2C2;
    background: #C2C2C2;
    color: #BF1919;
    font-weight: bold;
}
</style>
<style type="text/css">
    .btn-refresh:after {	
    font-family: 'FontAwesome';
    content: '\f021';
    padding-left: 5px;
    position: relative;
    font-size: 90%;
    
}
</style>
<style>
.loader {
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid #000;
  border-bottom: 16px solid #ce1126;
  width: 120px;
  height: 120px;
  -webkit-animation: spin 2s linear infinite;
  animation: spin 2s linear infinite;
  margin: auto;
}
.loader-small {
  border: 8px solid #f3f3f3;
  border-radius: 50%;
  border-top: 8px solid #000;
  border-bottom: 8px solid #ce1126;
  width: 60px;
  height: 60px;
  -webkit-animation: spin 1s linear infinite;
  animation: spin 1s linear infinite;
  /*margin: auto;*/
}
#overlay {
    position: fixed;
    display: none;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    z-index: 1200;
    cursor: pointer;
}

#text{
    position: absolute;
    top: 50%;
    left: 50%;
    font-size: 50px;
    color: white;
    transform: translate(-50%,-50%);
    -ms-transform: translate(-50%,-50%);
}

#text_loading{
    position: absolute;
    top: 63%;
    left: 52%;
    font-size: 13px;
    color: #ffeb00;
    transform: translate(-50%,-50%);
}

#loader_overlay {
    position: fixed;
    display: none;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    z-index: 1200;
    cursor: pointer;
}

#loader_overlay_text{
    position: absolute;
    top: 50%;
    left: 50%;
    font-size: 50px;
    color: white;
    transform: translate(-50%,-50%);
    -ms-transform: translate(-50%,-50%);
}

@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
<section id="container">

  
    <div class="container">
      <form class="form-signin" action="" id="login_form">
  
        <h2 class="form-signin-heading"><img src="images/admin64.png" alt="CCPlusV2" style="    max-width: 222px;"></h2>       
           <h4 class="form-signin-heading" style="text-align: center;">Admin Area</h4>
       <div id="div_result"></div>
       <div class="err_msg1" style="display:none;"></div>
        <div class="login-wrap">
            <div class="user-login-info">		
            	<!--		
            	<div>
                <label for="province_id">Area</label>
                <select name="province_id" id="province_id" class="form-control chosen-select">
<option value="" selected="selected">Select One</option>
<option value="2">Bengo</option>
<option value="1">Benguela</option>
<option value="5">Bie</option>
<option value="6">Cabinda</option>
<option value="10">Cunene</option>
<option value="11">Huambo</option>
<option value="12">Huíla</option>
<option value="7">Kuando Kubango</option>
<option value="8">Kwanza Norte</option>
<option value="9">Kwanza Sul</option>
<option value="13">Luanda</option>
<option value="14">Lunda Norte</option>
<option value="15">Lunda Sul</option>
<option value="16">Malange</option>
<option value="17">Moxico</option>
<option value="18">Namibe</option>
<option value="19">Uíge</option>
<option value="20">Zaire</option>
</select>
            	</div>   
            	<div>   
                <label for="locality_id">Locality</label>
                <select name="location_id" id="location_id" class="form-control chosen-select">
<option value="0"></option>
</select>
             	</div>  
             	-->
             	<div> 
               <label for="user_ids">log In</label>
                <input type="text" class="form-control" placeholder="Username" id="username" name="username" value="" autofocus="" style="font-size:14px;color:#000;">
                </div>  
					<div>
                <label for="user_ids">Password</label>
                <input type="password" class="form-control" placeholder="Password" id="password" name="password" value="" style="font-size:14px;color:#000;">
                </div>  
            </div>
            <label style="font-weight:normal;">
               <!-- <input type="checkbox" value="remember-me"> Remember me -->
                <!-- <span class="pull-left">
                    <a data-toggle="modal" href="#myForgotpassword" style="text-decoration:none;"> Forgot Password?</a>
                </span>
                -->
            </label> 
            <button class="btn btn-lg btn-info btn-block" type="button" id="login_btn">Sign in</button>
        </div>
      </form>
     
          <!-- Modal -->
          <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myForgotpassword" class="modal fade" style="padding-top:100px;">
              <div class="modal-dialog">

                  <div class="modal-content">
                      <div class="modal-header" style="background-color:#EAEAEC;">
                          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                          <h4 class="modal-title">Forgot Your Password ?</h4>
                      </div>
                      <form class="form-forgot" action="" id="forgot_form">
                          <div>
                            <div class="err_msg1" style="display:none;"></div>
                            <img src="images/loader.gif" class="sending" style=" left:40%;position: absolute;top: 40%; z-index: 999;display:none;">
                        </div>

                        <div class="modal-body">
                            <p>Enter your e-mail address below to reset your password.</p>
                            <input type="text" name="email" placeholder="Enter email" autocomplete="off" class="form-control placeholder-no-fix">
                        </div>
                        <div class="modal-footer">
                            <button data-dismiss="modal" class="btn btn-default" type="button">Cancel</button>
                            <button class="btn btn-success" id="sendmail" type="button">Submit</button>
                        </div>
                      </form>
                  </div>
              </div>
          </div>
          <!-- modal -->
      
    </div>
    <!-- Placed js at the end of the document so the pages load faster -->

    
<!--Core js-->
<script src="js/jquery-2.1.4.min.js" type="text/javascript"></script> 
<script src="js/jquery-ui.min.js" type="text/javascript"></script>
<script src="js/bootstrap.min.js"></script>

<script src="js/jquery-migrate.js"></script>
 <!--dynamic table-->
<script type="text/javascript" language="javascript" src="js/jquery.dataTables.1.10.7.js"></script>
<script type="text/javascript" src="js/DT_bootstrap.js"></script>

<script src="js/dynamic_table_init.js"></script>
<script src="js/jquery.nicescroll.js"></script>
<script src="js/scripts.js"></script>

<!-- chosen select -->
<script src="js/chosen.jquery.js"></script>
<script src="js/jquery.growl.js"></script>
<script src="js/tautocomplete.js"></script>
<script src="js/bootstrap-filestyle.js"></script>
<script src="js/jquery-confirm.js"></script>

<script src="js/jquery.dcjqaccordion.2.7.js"></script>
<script type="text/javascript">
 $.fn.extend({
    treed: function (o) {
      
      var openedClass = 'glyphicon-minus-sign';
      var closedClass = 'glyphicon-plus-sign';
  
      if (typeof o != 'undefined'){
        if (typeof o.openedClass != 'undefined'){
        openedClass = o.openedClass;
        }
        if (typeof o.closedClass != 'undefined'){
        closedClass = o.closedClass;
        }
      };
      
        //initialize each of the top levels
        var tree = $(this);
        tree.addClass("tree");
        tree.find('li').has("ul").each(function () {
            var branch = $(this); //li with children ul
            branch.prepend("<i class='indicator glyphicon " + closedClass + "'></i>");
            branch.addClass('branch');
            branch.on('click', function (e) {
                if (this == e.target) {
                    var icon = $(this).children('i:first');
                    icon.toggleClass(openedClass + " " + closedClass);
                    $(this).children().children().toggle();
                }
            })
            branch.children().children().toggle();
        branch.trigger("click");
        });
        //fire event from the dynamically added icon
      tree.find('.branch .indicator').each(function(){
        $(this).on('click', function () {
            $(this).closest('li').click();
        });
      });
        //fire event to open branch if the li contains an anchor instead of text
        tree.find('.branch>a').each(function () {
            $(this).on('click', function (e) {
                $(this).closest('li').click();
                e.preventDefault();
            });
        });
        //fire event to open branch if the li contains a button instead of text
        tree.find('.branch>button').each(function () {
            $(this).on('click', function (e) {
                $(this).closest('li').click();
                e.preventDefault();
            });
        });
    }
});

    $('.button-checkbox').each(function () {

        // Settings
        var $widget = $(this),
            $button = $widget.find('button'),
            $checkbox = $widget.find('input:checkbox'),
            color = $button.data('color'),
            settings = {
                on: {
                    icon: 'glyphicon glyphicon-check'
                },
                off: {
                    icon: 'glyphicon glyphicon-unchecked'
                }
            };

        // Event Handlers
        $button.on('click', function () {
            $checkbox.prop('checked', !$checkbox.is(':checked'));
            $checkbox.triggerHandler('change');
            updateDisplay();
        });
        $checkbox.on('change', function () {
            updateDisplay();
        });

        // Actions
        function updateDisplay() {
            var isChecked = $checkbox.is(':checked');

            // Set the button's state
            $button.data('state', (isChecked) ? "on" : "off");

            // Set the button's icon
            $button.find('.state-icon')
                .removeClass()
                .addClass('state-icon ' + settings[$button.data('state')].icon);

            // Update the button's color
            if (isChecked) {
                $button
                    .removeClass('btn-link')
                    .addClass('btn-' + color + ' active');
            }
            else {
                $button
                    .removeClass('btn-' + color + ' active')
                    .addClass('btn-link');
            }
        }

        // Initialization
        function init() {

            updateDisplay();

            // Inject the icon if applicable
            if ($button.find('.state-icon').length == 0) {
                $button.prepend('<i class="state-icon ' + settings[$button.data('state')].icon + '"></i> ');
            }
        }
        init();
    });
   
    	        	
	$(".leftside-navigation").niceScroll({
	     cursorwidth: 10,       
        cursorborder: "1px solid #cccccc",
        cursorcolor: "#1FB5AD",
        cursoropacitymin: 0.3,
        autohidemode: true,
        background: "#cccccc",
        emulatetouch :true    
   });

	$('.sub-menu').live('click', function() {		
  	 	$(".leftside-navigation").niceScroll().resize();  		 		
    	$('#ascrail2000').show();          
	});
	
		
   	
  function check_login() {
     	
     		$.ajax({
				type: "POST",
				url: "https://ccplus.movicel.co.ao/ccplusv2/home/check_login",				
				success:function(response)
				{					
					var data_result = $.parseJSON(response);				 				 				 	
				 	if (data_result["status"] == 1) 
				 	{				 		
						$.growl.notice({ message: data_result["status_msg"] }) 									
				 		setTimeout(function() {				 				 									
				 				window.location.href = "https://ccplus.movicel.co.ao/ccplusv2/login";		
								}, 3000);					
				 	}				 					 					
				}				
			});
	}
	
	function check_change_password(stat)
	{		
		var str_title = 'Your password expire days :  '+ stat;
		//var str_title = 'Your password will expire within days '+ stat;
		if(stat=='0'){
		//str_title = 'Your password will expire today !'
		str_title = 'Your password will expire today';
		}
		$.confirm({
			    title: str_title,
			    content: 'Change the password now',
			    type: 'red',
			    typeAnimated: true,
			    buttons: {
			      Ok : {
			            	btnClass: 'btn-danger',
						        action: function()
						            {						        												 
											$.ajax({
												type: "POST",
												url: "https://ccplus.movicel.co.ao/ccplusv2/welcome/check_change_password",
												data: {page_action :"REDIRECT"},				
												success:function(response)
												{											 		
													$('#loader_overlay_text').removeClass("loader-small");					
													document.getElementById("loader_overlay").style.display = "none";																												
													var data_result = $.parseJSON(response);
												 	if (data_result["status"] == 1) 
												 	{					 		
												 		//$.growl.notice({ message: data_result["status_msg"] });					 		
														window.location = "https://ccplus.movicel.co.ao/ccplusv2/change_password";			 		
												 	}
												 	else
												 	{
												 		//$.growl.error({ message: data_result["status_msg"] });												 							 							 							 		
												 	}				 																		
												},
												error: function(result)
												{
													$('#loader_overlay_text').removeClass("loader-small");					
													document.getElementById("loader_overlay").style.display = "none";
												   $.growl.error({ message: "Time out Error " });
												},
												fail:(function(status) {
												   $('#loader_overlay_text').removeClass("loader-small");					
													document.getElementById("loader_overlay").style.display = "none";
												   $.growl.error({ message: "Fail" });
												}),
												beforeSend:function(d){						
												 	$('#loader_overlay_text').addClass("loader-small");
												 	document.getElementById("loader_overlay").style.display = "block";
												},
												timeout: "3000"	
											});
						            }
					  },
			        close : {
			            	btnClass: 'btn-danger',
						        action: function()
						            {						        												 
											$.ajax({
												type: "POST",
												url: "https://ccplus.movicel.co.ao/ccplusv2/welcome/check_change_password",
												data: {page_action :"REMOVE"},				
												success:function(response)
												{											 		
													$('#loader_overlay_text').removeClass("loader-small");					
													document.getElementById("loader_overlay").style.display = "none";																												
													var data_result = $.parseJSON(response);
												 	if (data_result["status"] == 1) 
												 	{		
												 		//window.location = "https://ccplus.movicel.co.ao/ccplusv2/welcome";			 		
												 		//$.growl.notice({ message: data_result["status_msg"] });					 														 						 		
												 	}
												 	else
												 	{
												 		//$.growl.error({ message: data_result["status_msg"] });					 							 							 		
												 	}				 																		
												},
												error: function(result)
												{
													$('#loader_overlay_text').removeClass("loader-small");					
													document.getElementById("loader_overlay").style.display = "none";
												   $.growl.error({ message: "Time out Error " });
												},
												fail:(function(status) {
												   $('#loader_overlay_text').removeClass("loader-small");					
													document.getElementById("loader_overlay").style.display = "none";
												   $.growl.error({ message: "Fail" });
												}),
												beforeSend:function(d){						
												 	$('#loader_overlay_text').addClass("loader-small");
												 	document.getElementById("loader_overlay").style.display = "block";
												},
												timeout: "3000"	
											});
						            }
					  }
			    }
			}); 
	}
 function formatAjxErrorMessage(jqXHR, exception) 
 {
		var ret_msg = { "msg":"","code":"" };								
		if (jqXHR.status === 0) {
		      msg = 'Not connect.\n Verify Network.';
		      var ret_msg = { "msg": msg,"code": 0 };			
		} else if (jqXHR.status == 404) {
		      msg = 'Requested page not found. [404]';
		      var ret_msg = { "msg": msg,"code": 404 };
		} else if (jqXHR.status == 500) {
		      msg = 'Internal Server Error [500].';
		      var ret_msg = { "msg": msg,"code": 500 };
		} else if (exception === 'parsererror') {
		      msg = 'Requested JSON parse failed.';
		      var ret_msg = { "msg": msg,"code": 500 };
		} else if (exception === 'timeout') {
		      msg = 'Time out error.';
		      var ret_msg = { "msg": msg,"code": 504 };
		} else if (exception === 'abort') {
		      msg = 'Ajax request aborted.';
		      var ret_msg = { "msg": msg,"code": 408 };
		} else {
		      msg = 'Uncaught Error.\n' + jqXHR.responseText;
		      var ret_msg = { "msg": msg,"code": 506 };
		}		  
	return ret_msg;
 }	
</script>




    <script>
      $(document).ready(function() {

      $(document).on("keypress", function(e) {
      if (e.keyCode == 13) {        
        $("#login_btn").trigger("click");
      }     
      });

      $("#login_btn").on("click", function(e) {
          e.preventDefault();
		  if($.trim($("#username").val()) == "")
		  {
			  $(".err_msg1").text("Username is Empty!!!");
                        $(".err_msg1").show();
                        $(".err_msg1").css("color", "red");
                        $(".err_msg1").show(500);
                         setTimeout(function() {
                                $(".err_msg1").hide(500);
                            }, 3000);
		  }
		  else if($.trim($("#password").val()) == "")
		  {
			  $(".err_msg1").text("Password is Empty!!!");
                        $(".err_msg1").show();
                        $(".err_msg1").css("color", "red");
                        $(".err_msg1").show(500);
                         setTimeout(function() {
                                $(".err_msg1").hide(500);
                            }, 3000);
		  }
		  else
		  {
			  $.post("https://ccplus.movicel.co.ao/ccplusv2/login/check_login", $("#login_form").serialize(),
                function(response){                                           
                    var data = $.parseJSON(response);                                     
                      //console.log(data);                      
               if (data["status"] == 1)
					{
						$("#password").val('');
                        $(".err_msg1").text("Access Denied!!!");
                        $(".err_msg1").show();
                        $(".err_msg1").css("color", "red");
                        $(".err_msg1").show(500);
                         setTimeout(function() {
                                $(".err_msg1").hide(500);
                            }, 3000);
               }
					else if (data["status"] == 2) 
					{
						$("#password").val('');
                        $(".err_msg1").text("Password or Username mismatch");
                        $(".err_msg1").show();
                        $(".err_msg1").css("color", "red");
                        $(".err_msg1").show(500);
                         setTimeout(function() {
                                $(".err_msg1").hide(500);
                            }, 3000);
                }
                else if (data["status"] == 3) 
					 {
						$("#password").val('');
                        $(".err_msg1").text("The user account is blocked.");
                        $(".err_msg1").show();
                        $(".err_msg1").css("color", "red");
                        $(".err_msg1").show(500);
                         setTimeout(function() {
                                $(".err_msg1").hide(500);
                            }, 3000);
                }
                else if (data["status"] == 4) 
					 {
						$("#password").val('');
                        $(".err_msg1").text("User access  not possible via internet");
                        $(".err_msg1").show();
                        $(".err_msg1").css("color", "red");
                        $(".err_msg1").show(500);
                         setTimeout(function() {
                                $(".err_msg1").hide(500);
                            }, 3000);
                }
                else {                       
                      window.location = "https://ccplus.movicel.co.ao/ccplusv2/welcome";
                }
                });        
		  }
            
         });


        $("#sendmail").on("click", function(e) {          
          e.preventDefault(); 
          $(".sending").show();
            $.post("https://ccplus.movicel.co.ao/ccplusv2/login/send_password", $("#forgot_form").serialize(),
                function(response){ 
                    var data = $.parseJSON(response);
                    //console.log(data["status"]);
                    if (data["status"] == 1) {                       
                        
                         $(".err_msg1").text("Password details send your email address!!!");
                          setTimeout(function() {
                                window.location = "https://ccplus.movicel.co.ao/ccplusv2/login";
                            }, 3000);
                         
                    } else {
                        $(".sending").hide();
                        $(".err_msg1").text("Incorrect email id!!!");
                        $(".err_msg1").show();
                        $(".err_msg1").css("color", "red");
                        $(".err_msg1").show(500);
                         setTimeout(function() {
                                $(".err_msg1").hide(500);
                            }, 3000);
                    }
                });        
         });
    });

    </script>
    
<script type="text/javascript">
	$(document).ready(function()
	{
   
    	$('#province_id').on('change',function(){
        var provinceID = $(this).val();
        if(provinceID){
            $.ajax({
                type:'POST',
                url:'https://ccplus.movicel.co.ao/ccplusv2/login/province_locality',
                data:'province_id='+provinceID,
                success:function(html){
                    $('#location_id').html(html);
                    $('#location_id').trigger("chosen:updated");        
						  $('#div_result').html("");
                },
					 error: function(result)
					 {
					   $("#div_result").html("Error");
					 },
					 fail:(function(status) {
					   $("#div_result").html("Fail");
					 }),
					 beforeSend:function(d){
					 	$('#div_result').html("<center><strong style='color:red'>Please Wait...<br><i class='fa fa-spinner fa-spin' aria-hidden='true'></i></strong></center>");
					 }

            }); 
        }else{
            $('#location_id').html('<option value="">Select country first</option>'); 
        }
            
    	});
    
   });
   $(function() {
        $('.chosen-select').chosen({scroll_to_highlighted: true});
        $('.chosen-select-deselect').chosen({ allow_single_deselect: true });
    });		

</script>


</section></body></html>